# Claude Code 插件集合

[English](README.md) | [繁體中文](README.zh-TW.md)

一系列強大的 Claude Code 插件，包含自動化開發工作流程和多角度決策系統。

## 可用插件

| 插件 | 說明 | 指令 |
|------|------|------|
| [開發工作流程](#開發工作流程插件) | 從需求分析到品質保證的完整開發流程 | `/dev-workflow` |
| [多代理辯證系統](#多代理辯證系統插件) | 多角度分析與批判審查 | `/debate` |

## 安裝方式

```bash
# 新增 marketplace
/plugin marketplace add chinlung/claude-dev-workflow

# 安裝所有插件
/plugin install dev-workflow@scl-claude-plugins
/plugin install multi-agent-debate@scl-claude-plugins
```

或直接安裝：

```bash
/plugin install chinlung/claude-dev-workflow
```

---

# 開發工作流程插件

一個為 Claude Code 打造的完整開發工作流程系統，自動化從需求分析到品質保證的整個開發過程。

靈感來自 [Kiro IDE](https://kiro.dev) 的 8 角色工作流程系統，由 [Pahud Hsieh](https://www.facebook.com/pahud.hsieh) 設計。觀看[教學影片](https://www.youtube.com/watch?v=RdrRHXbXZF8)了解更多原始概念。

## 功能特色

- **7 個專門代理人**依序協作
- **結構化文件輸出**涵蓋每個階段
- **handoff.md 機制**用於代理人間無縫上下文傳遞
- **暫停點**在架構設計後等待使用者確認
- **進度追蹤**使用 TodoWrite
- **彈性執行**：完整工作流程、單一步驟或從檢查點繼續
- **語言無關**：適用於任何程式語言

## 使用方式

### 完整工作流程

```bash
/dev-workflow 實作使用者驗證功能
```

這會依序執行全部 7 個階段：
1. **需求分析** → `01-requirements-analysis.md`
2. **程式碼探索** → `02-code-analysis.md`
3. **架構設計** → `03-architecture-design.md`（暫停等待確認）
4. **實作** → `04-implementation-report.md`
5. **測試** → `05-test-report.md`
6. **品質保證** → `06-quality-report.md`
7. **文件更新** → `07-documentation-report.md`

### 單一步驟執行

```bash
/dev-workflow --step analyze 分析購物車需求
/dev-workflow --step explore 探索驗證程式碼
/dev-workflow --step design 設計支付整合
/dev-workflow --step implement 實作功能
/dev-workflow --step test 撰寫功能測試
/dev-workflow --step qa 執行品質檢查
/dev-workflow --step docs 更新文件並產生 PR
```

### 從檢查點繼續

```bash
/dev-workflow --resume docs/task-20241211-1430-auth-feature/
```

## 代理人說明

| 代理人 | 角色 | 輸出 |
|--------|------|------|
| 議題分析師 | 需求分析、使用者故事、成功標準 | `01-requirements-analysis.md` |
| 程式碼考古學家 | 程式碼庫探索、模式識別、可重用元件 | `02-code-analysis.md` |
| 解決方案架構師 | 架構設計、方案比較、實作計畫 | `03-architecture-design.md` |
| 實作專家 | 依循最佳實踐的程式碼實作 | `04-implementation-report.md` |
| 測試工程師 | 測試規劃、撰寫與執行 | `05-test-report.md` |
| 品質保證 | Lint、型別檢查、建置驗證、程式碼審查 | `06-quality-report.md` |
| 文件專家 | README、CHANGELOG、API 文件、PR 描述 | `07-documentation-report.md` |

## 輸出結構

所有報告都儲存在任務目錄中：

```
docs/task-{YYYYMMDD-HHMM}-{簡短名稱}/
├── 01-requirements-analysis.md
├── 02-code-analysis.md
├── 03-architecture-design.md
├── 04-implementation-report.md
├── 05-test-report.md
├── 06-quality-report.md
├── 07-documentation-report.md
├── handoff.md
└── summary.md
```

## 工作流程圖

```
┌─────────────────┐
│   議題分析師    │ → 需求與使用者故事
└────────┬────────┘
         ▼
┌─────────────────┐
│程式碼考古學家   │ → 程式碼庫分析
└────────┬────────┘
         ▼
┌─────────────────┐
│解決方案架構師   │ → 架構設計
└────────┬────────┘
         ▼
    ⏸️ 暫停（使用者確認）
         ▼
┌─────────────────┐
│   實作專家      │ → 可運作的程式碼
└────────┬────────┘
         ▼
┌─────────────────┐
│  測試工程師     │ → 測試套件
└────────┬────────┘
         ▼
┌─────────────────┐
│   品質保證      │ → 品質報告
└────────┬────────┘
         ▼
┌─────────────────┐
│   文件專家      │ → 文件與 PR 描述
└─────────────────┘
```

---

# 多代理辯證系統插件

一個多代理辯證系統，透過多角度分析與批判審查，產出最優實踐方案。

## 功能特色

- **5 個專門代理人**協同運作
- **智能角度配置**根據需求類型自動選擇
- **量化評分系統**（30分制）
- **共識驅動決策**（需≥2個代理人同意）
- **迭代優化**透過多輪辯論精煉方案
- **使用者參與**在關鍵決策點詢問意見

## 使用方式

### 基本用法

```bash
/debate 設計 API 層的快取策略
```

### 進階選項

```bash
/debate <需求描述> [--max-rounds N] [--perspectives "角度1,角度2,角度3"]
```

**範例：**
```bash
/debate 新專案應該採用微服務還是單體架構？
/debate --max-rounds 5 如何優化資料庫查詢效能？
/debate --perspectives "安全性,效能,可維護性" 設計驗證系統
```

## 代理人說明

| 代理人 | 角色 |
|--------|------|
| 協調者 (Orchestrator) | 分析需求、配置角度、管理流程 |
| 角度 A (Perspective A) | 從指定角度提出解決方案 |
| 角度 B (Perspective B) | 從指定角度提出解決方案 |
| 角度 C (Perspective C) | 從指定角度提出解決方案 |
| 批判者 (Critic) | 審查所有方案、提出挑戰、量化評分 |

## 工作流程

```
┌─────────────────┐
│     協調者      │ → 分析需求與配置角度
└────────┬────────┘
         ▼
┌─────────────────────────────────────┐
│  角度 A │ B │ C（並行執行）         │ → 初始方案
└────────┬────────────────────────────┘
         ▼
┌─────────────────┐
│     批判者      │ → 審查與挑戰
└────────┬────────┘
         ▼
┌─────────────────────────────────────┐
│  角度 A │ B │ C（並行執行）         │ → 反駁與修正
└────────┬────────────────────────────┘
         ▼
┌─────────────────┐
│   共識檢查      │ → ≥2 同意？→ 完成
└────────┬────────┘   否則 ↩️ 返回批判者
         ▼
┌─────────────────┐
│  使用者決策     │ → 繼續 / 採納 / 介入 / 重設
└─────────────────┘
```

## 智能角度配置

協調者會根據需求類型自動選擇最合適的角度：

| 需求類型 | 角度 A | 角度 B | 角度 C |
|----------|--------|--------|--------|
| 架構設計 | 效能優先 | 可維護性優先 | 擴展性優先 |
| 功能開發 | 快速交付 | 品質優先 | 使用者體驗優先 |
| 效能優化 | 演算法優化 | 快取策略 | 架構重構 |
| 問題修復 | 快速修補 | 根本解決 | 防禦性重構 |
| 技術選型 | 主流穩定 | 新興技術 | 自研方案 |
| 安全性問題 | 最小權限 | 縱深防禦 | 零信任架構 |
| 使用者體驗 | 簡化流程 | 增加引導 | 客製化彈性 |
| 成本控制 | 最低成本 | 平衡方案 | 長期投資 |
| 重構任務 | 漸進重構 | 完全重寫 | 混合策略 |

## 評分標準

批判者會從三個維度評估每個方案（各10分，共30分）：

| 維度 | 評估標準 |
|------|----------|
| **可行性** | 技術可實現性、資源可得性、時程合理性 |
| **效益** | 問題解決程度、正面價值、投資報酬率 |
| **風險控制** | 風險識別完整度、緩解措施可靠性、失敗影響範圍 |

**評分指南：**
- 9-10分：優秀 - 完全解決問題 / 技術成熟
- 7-8分：良好 - 大部分解決 / 需少量準備
- 5-6分：尚可 - 部分解決 / 有挑戰但可克服
- 3-4分：不足 - 效益有限 / 需顯著額外資源
- 1-2分：極差 - 幾乎無效益 / 可行性存疑

## 適用場景

- 架構設計決策
- 功能開發規劃
- 效能優化策略
- 問題修復方案
- 技術選型評估
- 安全方案設計
- 使用者體驗改善
- 成本優化計畫
- 重構任務規劃

---

## 設定

兩個插件皆可直接在任何專案中使用。每個代理人都會適應您專案的結構和慣例。

如需專案特定的程式碼規範，建議在專案根目錄建立 `CLAUDE.md` 檔案，寫入您團隊的開發指南。

## 授權

MIT

## 貢獻

歡迎貢獻！請隨時提交 Pull Request。

## 致謝

- 開發工作流程靈感來自 [Kiro IDE](https://kiro.dev) 的 8 角色工作流程系統，由 [Pahud Hsieh](https://www.facebook.com/pahud.hsieh) 設計
- [教學影片](https://www.youtube.com/watch?v=RdrRHXbXZF8)說明原始工作流程概念
- 專為 [Claude Code](https://claude.ai/code) 打造
